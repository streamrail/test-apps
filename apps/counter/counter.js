!function(){document.body.innerHTML="",window.createCounter=function e(){function n(e){if(d)throw Error("Counter cannot be initialized more than once");d=e,setTimeout(function(){a("ready")},0)}function t(){if(!d)throw Error("Counter has not been initialized");s=setInterval(l,500)}function r(){if(!d)throw Error("Counter has not been initialized");clearInterval(s)}function o(){var e=Array.prototype.slice.call(arguments,0);h.addEventListener.apply(h,e)}function i(){var e=Array.prototype.slice.call(arguments,0);h.removeEventListener.apply(h,e)}function a(e){console.log("Counter: dispatched event "+e);var n=new CustomEvent(e);h.dispatchEvent(n)}function c(){d=null,h=null,clearInterval(s)}function l(){0===f&&a("start"),d.innerHTML=""+f,f++,f>v?(a("end"),clearInterval(s)):f===Math.ceil(v/4)?a("q1"):f===Math.ceil(v/2)?a("q2"):f===Math.ceil(3*v/4)&&a("q3")}function u(e,n){return Math.floor(Math.random()*(n-e+1))+e}var s,d,v=u(10,20),f=0,h=document.createElement("div"),p=Object.freeze({init:n,play:t,pause:r,addEventListener:o,removeEventListener:i,dispose:c});return p.constructor=e,p}}();